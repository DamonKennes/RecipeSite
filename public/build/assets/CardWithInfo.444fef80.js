import{o as a,g as c,d as i,h as x,s as $,J as w,B as C,K as p,k as y,y as v,E as h,t as _,a as f,w as S,F as k,x as R,c as B,G as I,I as N,v as z}from"./app.33a4a6e1.js";import{_ as u}from"./_plugin-vue_export-helper.cdc0426e.js";import{S as b}from"./Stars.7c562373.js";const M={name:"SearchBar",props:{value:String},data:function(){return{query:this.value}}},L={class:"max-w-md mx-auto"},T={class:"relative flex items-center w-full h-12 rounded-lg focus-within:shadow-lg bg-white overflow-hidden"},W=i("div",{class:"grid place-items-center h-full w-12 text-gray-300"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1);function G(t,o,e,s,n,r){return a(),c("div",L,[i("div",T,[W,x(i("input",{class:"peer h-full w-full outline-none text-sm text-gray-700 pr-2 border-0",type:"text",id:"search",placeholder:"Search something..","onUpdate:modelValue":o[0]||(o[0]=l=>t.query=l),onInput:o[1]||(o[1]=l=>t.$emit("updated-value",t.query))},null,544),[[$,t.query]])])])}const Se=u(M,[["render",G]]);var g=Object.assign,P=w({name:"VueHorizontal",data:()=>({left:0,width:0,scrollWidth:0,hasPrev:!1,hasNext:!1,debounceId:void 0}),props:{button:{type:Boolean,default:()=>!0},buttonBetween:{type:Boolean,default:()=>!0},scroll:{type:Boolean,default:()=>!1},displacement:{type:Number,default:()=>1},snap:{type:String,default:()=>"start"}},mounted(){this.onScrollDebounce()},beforeDestroy(){clearTimeout(this.debounceId)},methods:{children(){return this.$refs.container.children},findPrevSlot(t){const o=this.children();for(let e=0;e<o.length;e++){const s=o[e].getBoundingClientRect();if(s.left<=t&&t<=s.right||t<=s.left)return o[e]}},findNextSlot(t){const o=this.children();for(let e=0;e<o.length;e++){const s=o[e].getBoundingClientRect();if(!(s.right<=t)&&(s.left<=t||t<=s.left))return o[e]}},prev(t){t.stopPropagation(),this.$emit("prev");const o=this.$refs.container,e=o.getBoundingClientRect().left,s=e+o.clientWidth*-this.displacement-2.5,n=this.findPrevSlot(s);if(n){const l=n.getBoundingClientRect().left-e;return void this.scrollToLeft(o.scrollLeft+l)}const r=o.clientWidth*this.displacement;this.scrollToLeft(o.scrollLeft-r)},next(t){t.stopPropagation(),this.$emit("next");const o=this.$refs.container,e=o.getBoundingClientRect().left,s=e+o.clientWidth*this.displacement+2.5,n=this.findNextSlot(s);if(n){const l=n.getBoundingClientRect().left-e;if(l>2.5)return void this.scrollToLeft(o.scrollLeft+l)}const r=o.clientWidth*this.displacement;this.scrollToLeft(o.scrollLeft+r)},scrollToIndex(t){const o=this.children();if(o[t]){const e=this.$refs.container,s=o[t].getBoundingClientRect().left-e.getBoundingClientRect().left;this.scrollToLeft(e.scrollLeft+s)}},scrollToLeft(t,o="smooth"){this.$refs.container.scrollTo({left:t,behavior:o})},onScroll(){const t=this.$refs.container;t&&(this.$emit("scroll",{left:t.scrollLeft}),clearTimeout(this.debounceId),this.debounceId=setTimeout(this.onScrollDebounce,100))},onScrollDebounce(){return this.refresh(t=>{this.$emit("scroll-debounce",t)})},refresh(t){return C(()=>{const o=this.calculate();this.left=o.left,this.width=o.width,this.scrollWidth=o.scrollWidth,this.hasNext=o.hasNext,this.hasPrev=o.hasPrev,t==null||t(o)})},calculate(){const t=this.$refs.container,o=this.children()[0];return{left:t.scrollLeft,width:t.clientWidth,scrollWidth:t.scrollWidth,hasNext:t.scrollWidth>t.scrollLeft+t.clientWidth+2.5,hasPrev:function(){var e,s;if(t.scrollLeft===0)return!1;const n=t.getBoundingClientRect().left,r=(s=(e=o==null?void 0:o.getBoundingClientRect())==null?void 0:e.left)!=null?s:0;return Math.abs(n-r)>=2.5}()}}},render(){const t=e=>{const s=p("path",{d:"m9.8 12 5 5a1 1 0 1 1-1.4 1.4l-5.7-5.7a1 1 0 0 1 0-1.4l5.7-5.7a1 1 0 0 1 1.4 1.4l-5 5z"}),n=p("path",{d:"m14.3 12.1-5-5a1 1 0 0 1 1.4-1.4l5.7 5.7a1 1 0 0 1 0 1.4l-5.7 5.7a1 1 0 0 1-1.4-1.4l5-5z"});return p("svg",{class:"v-hl-svg",viewBox:"0 0 24 24","aria-label":`horizontal scroll area button for navigation to ${e==="prev"?"previous":"next"} section`,style:{width:"40px",height:"40px",margin:"6px",padding:"6px","border-radius":"20px","box-sizing":"border-box",background:"white",color:"black",fill:"currentColor","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"}},[e==="prev"?s:n])},o=e=>this.button&&(e!=="prev"||this.hasPrev)&&(e!=="next"||this.hasNext)?p("div",{key:e==="prev"?0:1,class:`v-hl-btn v-hl-btn-${e}`,onClick:e==="prev"?this.prev:this.next,role:"button",style:g(g(g({},e==="prev"?{left:0,transform:this.buttonBetween?"translateX(-50%)":"none"}:{right:0,transform:this.buttonBetween?"translateX(50%)":"none"}),{cursor:"pointer",position:"absolute",top:0,bottom:0,display:"flex","align-self":"center","z-index":1,"align-items":"center"}),this.scroll?{}:{"overflow-x":"scroll","scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},[e==="prev"?this.$slots["btn-prev"]?this.$slots["btn-prev"]():t("prev"):this.$slots["btn-next"]?this.$slots["btn-next"]():t("next")]):y("",!0);return p("div",{class:"vue-horizontal",style:{position:"relative",display:"flex"}},[o("prev"),o("next"),p("div",{class:"v-hl-container",ref:"container",onScrollPassive:this.onScroll,style:g({display:"flex",width:"100%",margin:0,padding:0,border:"none","box-sizing":"content-box","overflow-x":"scroll","overflow-y":"hidden","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch"},this.scroll?{}:{"scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},(()=>{if(!this.$slots.default)return[];const e=n=>{n.props=n.props||{},n.props.style=n.props.style||{},n.props.style={"flex-shrink":0,"box-sizing":"border-box","min-height":"1px","scroll-snap-align":this.snap}},s=this.$slots.default();return s.forEach(n=>{if(n.el)return e(n);n.children&&Array.isArray(n.children)&&n.children.forEach(r=>{e(r)})}),s})())])}});const D={name:"Card",components:{Stars:b},props:{name:String,score:Number,image:String,id:Number},methods:{onClick(){this.$emit("open-recipe")},updateRating(t){v.Inertia.patch("/recipes/"+this.id,{rating:t})}}},O={class:"p-4"},V=["src"],q={class:"px-6 py-4"},F={class:"font-bold text-xl"};function j(t,o,e,s,n,r){const l=h("Stars");return a(),c("div",O,[i("div",{onClick:o[0]||(o[0]=d=>r.onClick()),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-pointer"},[i("img",{class:"w-full",src:e.image,alt:"Image"},null,8,V),i("div",q,[i("div",F,_(e.name),1),f(l,{class:"mt-auto","initial-rating":e.score,onChangeRating:r.updateRating},null,8,["initial-rating","onChangeRating"])])])])}const E=u(D,[["render",j]]),H={name:"HorizonSlider",components:{VueHorizontal:P,Card:E},props:{data:{type:Object,default:()=>({})},text:String},methods:{openRecipe(t){v.Inertia.get("/recipes/"+t.id)}},watch:{search(t){v.Inertia.get("/recipes",{query:t},{preserveState:!0})}}},A={class:"text-xl text-grey m-4 font-bold"};function X(t,o,e,s,n,r){const l=h("Card"),d=h("vue-horizontal");return a(),c("div",null,[i("h1",A,_(e.text),1),f(d,{class:"mx-6"},{default:S(()=>[(a(!0),c(k,null,R(e.data,m=>(a(),B(l,{name:m.name,score:m.pivot.rating,id:m.id,image:m.image_url,onOpenRecipe:$e=>r.openRecipe(m)},null,8,["name","score","id","image","onOpenRecipe"]))),256))]),_:1})])}const ke=u(H,[["render",X]]),J={name:"Card",components:{Stars:b},props:{name:String,score:Number,image:String,id:Number},methods:{onClick(){this.$emit("open-recipe")},updateRating(t){v.Inertia.patch("/recipes/"+this.id,{rating:t})}}},K={class:"p-4"},U=["src"],Y={class:"px-6 py-4"},Q={class:"font-bold text-xl"};function Z(t,o,e,s,n,r){const l=h("Stars");return a(),c("div",K,[i("div",{onClick:o[0]||(o[0]=d=>r.onClick()),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-pointer"},[i("img",{class:"w-full",src:e.image,alt:"Image"},null,8,U),i("div",Y,[i("div",Q,_(e.name),1),f(l,{class:"mt-auto","initial-rating":e.score,onChangeRating:r.updateRating},null,8,["initial-rating","onChangeRating"])])])])}const ee=u(J,[["render",Z]]);const te={name:"GrafModal",props:{imageModal:String}},oe=t=>(I("data-v-840de1b5"),t=t(),N(),t),ne={class:"modal z-50 py-4"},se=["src"],ie=oe(()=>i("h1",{class:"text-white"},"This plot shows all of the recipes you have rated. The ones you have rated four or more are in green and the others are in red. Your recommendation is in black. Recipes that are rated similarly by similar users are closer to each other on the plot.",-1));function re(t,o,e,s,n,r){return a(),c("div",{class:"modal-overlay z-40 cursor-zoom-out",onClick:o[0]||(o[0]=l=>t.$emit("close-modal"))},[i("div",ne,[i("img",{class:"modal object-contain center py-4",src:e.imageModal,alt:""},null,8,se),ie])])}const le=u(te,[["render",re],["__scopeId","data-v-840de1b5"]]),ae={name:"GrafiekCard",components:{GrafModal:le},props:{image:String,percent:Number},methods:{onClick(){console.log("click grafiek")}},data(){return{showModal:!1}}},ce={class:"p-4 h-full"},de=["src"],he={class:"px-6 py-4"},ue=i("div",{class:"font-bold text-xl"},"Confidence:",-1),pe={class:"font-bold text-xl"};function fe(t,o,e,s,n,r){const l=h("GrafModal");return a(),c("div",ce,[i("div",{onClick:o[0]||(o[0]=d=>n.showModal=!0),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-zoom-in"},[i("img",{class:"w-full",src:e.image,alt:"Recommendation"},null,8,de),i("div",he,[ue,i("div",pe,_(e.percent)+"%",1)])]),x(f(l,{imageModal:e.image,onCloseModal:o[1]||(o[1]=d=>n.showModal=!1)},null,8,["imageModal"]),[[z,n.showModal]])])}const me=u(ae,[["render",fe]]),ge={name:"CardWithInfo",components:{CardForRec:ee,GrafiekCard:me},props:{score:Number,name:String,imageGraf:String,imageRecipe:String,id:Number,perc:Number},methods:{onClick(){this.$emit("open-recipe")}}},ve={class:"mx-6 grid grid-cols-2 gap-1 h-full"},_e={class:"h-full"},xe={class:"h-full"};function be(t,o,e,s,n,r){const l=h("CardForRec"),d=h("GrafiekCard");return a(),c("div",ve,[i("div",_e,[f(l,{image:e.imageRecipe,name:e.name,score:e.score,id:e.id,onOpenRecipe:r.onClick},null,8,["image","name","score","id","onOpenRecipe"])]),i("div",xe,[f(d,{image:e.imageGraf,percent:e.perc},null,8,["image","percent"])])])}const Re=u(ge,[["render",be]]);export{Re as C,Se as S,E as a,ke as b,P as i};
