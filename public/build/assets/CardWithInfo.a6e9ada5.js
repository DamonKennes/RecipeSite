import{o as a,g as c,d as i,h as x,s as w,J as $,B as C,K as p,k as y,y as v,E as h,t as _,a as f,w as S,F as k,x as R,c as B,G as I,I as N,v as z}from"./app.5e7d80f9.js";import{_ as u}from"./_plugin-vue_export-helper.cdc0426e.js";import{S as b}from"./Stars.54ccc424.js";const M={name:"SearchBar",props:{value:String},data:function(){return{query:this.value}}},L={class:"max-w-md mx-auto"},T={class:"relative flex items-center w-full h-12 rounded-lg focus-within:shadow-lg bg-white overflow-hidden"},W=i("div",{class:"grid place-items-center h-full w-12 text-gray-300"},[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1);function G(t,n,e,s,o,r){return a(),c("div",L,[i("div",T,[W,x(i("input",{class:"peer h-full w-full outline-none text-sm text-gray-700 pr-2 border-0",type:"text",id:"search",placeholder:"Search something..","onUpdate:modelValue":n[0]||(n[0]=l=>t.query=l),onInput:n[1]||(n[1]=l=>t.$emit("updated-value",t.query))},null,544),[[w,t.query]])])])}const ye=u(M,[["render",G]]);var g=Object.assign,P=$({name:"VueHorizontal",data:()=>({left:0,width:0,scrollWidth:0,hasPrev:!1,hasNext:!1,debounceId:void 0}),props:{button:{type:Boolean,default:()=>!0},buttonBetween:{type:Boolean,default:()=>!0},scroll:{type:Boolean,default:()=>!1},displacement:{type:Number,default:()=>1},snap:{type:String,default:()=>"start"}},mounted(){this.onScrollDebounce()},beforeDestroy(){clearTimeout(this.debounceId)},methods:{children(){return this.$refs.container.children},findPrevSlot(t){const n=this.children();for(let e=0;e<n.length;e++){const s=n[e].getBoundingClientRect();if(s.left<=t&&t<=s.right||t<=s.left)return n[e]}},findNextSlot(t){const n=this.children();for(let e=0;e<n.length;e++){const s=n[e].getBoundingClientRect();if(!(s.right<=t)&&(s.left<=t||t<=s.left))return n[e]}},prev(t){t.stopPropagation(),this.$emit("prev");const n=this.$refs.container,e=n.getBoundingClientRect().left,s=e+n.clientWidth*-this.displacement-2.5,o=this.findPrevSlot(s);if(o){const l=o.getBoundingClientRect().left-e;return void this.scrollToLeft(n.scrollLeft+l)}const r=n.clientWidth*this.displacement;this.scrollToLeft(n.scrollLeft-r)},next(t){t.stopPropagation(),this.$emit("next");const n=this.$refs.container,e=n.getBoundingClientRect().left,s=e+n.clientWidth*this.displacement+2.5,o=this.findNextSlot(s);if(o){const l=o.getBoundingClientRect().left-e;if(l>2.5)return void this.scrollToLeft(n.scrollLeft+l)}const r=n.clientWidth*this.displacement;this.scrollToLeft(n.scrollLeft+r)},scrollToIndex(t){const n=this.children();if(n[t]){const e=this.$refs.container,s=n[t].getBoundingClientRect().left-e.getBoundingClientRect().left;this.scrollToLeft(e.scrollLeft+s)}},scrollToLeft(t,n="smooth"){this.$refs.container.scrollTo({left:t,behavior:n})},onScroll(){const t=this.$refs.container;t&&(this.$emit("scroll",{left:t.scrollLeft}),clearTimeout(this.debounceId),this.debounceId=setTimeout(this.onScrollDebounce,100))},onScrollDebounce(){return this.refresh(t=>{this.$emit("scroll-debounce",t)})},refresh(t){return C(()=>{const n=this.calculate();this.left=n.left,this.width=n.width,this.scrollWidth=n.scrollWidth,this.hasNext=n.hasNext,this.hasPrev=n.hasPrev,t==null||t(n)})},calculate(){const t=this.$refs.container,n=this.children()[0];return{left:t.scrollLeft,width:t.clientWidth,scrollWidth:t.scrollWidth,hasNext:t.scrollWidth>t.scrollLeft+t.clientWidth+2.5,hasPrev:function(){var e,s;if(t.scrollLeft===0)return!1;const o=t.getBoundingClientRect().left,r=(s=(e=n==null?void 0:n.getBoundingClientRect())==null?void 0:e.left)!=null?s:0;return Math.abs(o-r)>=2.5}()}}},render(){const t=e=>{const s=p("path",{d:"m9.8 12 5 5a1 1 0 1 1-1.4 1.4l-5.7-5.7a1 1 0 0 1 0-1.4l5.7-5.7a1 1 0 0 1 1.4 1.4l-5 5z"}),o=p("path",{d:"m14.3 12.1-5-5a1 1 0 0 1 1.4-1.4l5.7 5.7a1 1 0 0 1 0 1.4l-5.7 5.7a1 1 0 0 1-1.4-1.4l5-5z"});return p("svg",{class:"v-hl-svg",viewBox:"0 0 24 24","aria-label":`horizontal scroll area button for navigation to ${e==="prev"?"previous":"next"} section`,style:{width:"40px",height:"40px",margin:"6px",padding:"6px","border-radius":"20px","box-sizing":"border-box",background:"white",color:"black",fill:"currentColor","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"}},[e==="prev"?s:o])},n=e=>this.button&&(e!=="prev"||this.hasPrev)&&(e!=="next"||this.hasNext)?p("div",{key:e==="prev"?0:1,class:`v-hl-btn v-hl-btn-${e}`,onClick:e==="prev"?this.prev:this.next,role:"button",style:g(g(g({},e==="prev"?{left:0,transform:this.buttonBetween?"translateX(-50%)":"none"}:{right:0,transform:this.buttonBetween?"translateX(50%)":"none"}),{cursor:"pointer",position:"absolute",top:0,bottom:0,display:"flex","align-self":"center","z-index":1,"align-items":"center"}),this.scroll?{}:{"overflow-x":"scroll","scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},[e==="prev"?this.$slots["btn-prev"]?this.$slots["btn-prev"]():t("prev"):this.$slots["btn-next"]?this.$slots["btn-next"]():t("next")]):y("",!0);return p("div",{class:"vue-horizontal",style:{position:"relative",display:"flex"}},[n("prev"),n("next"),p("div",{class:"v-hl-container",ref:"container",onScrollPassive:this.onScroll,style:g({display:"flex",width:"100%",margin:0,padding:0,border:"none","box-sizing":"content-box","overflow-x":"scroll","overflow-y":"hidden","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch"},this.scroll?{}:{"scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},(()=>{if(!this.$slots.default)return[];const e=o=>{o.props=o.props||{},o.props.style=o.props.style||{},o.props.style={"flex-shrink":0,"box-sizing":"border-box","min-height":"1px","scroll-snap-align":this.snap}},s=this.$slots.default();return s.forEach(o=>{if(o.el)return e(o);o.children&&Array.isArray(o.children)&&o.children.forEach(r=>{e(r)})}),s})())])}});const D={name:"Card",components:{Stars:b},props:{name:String,score:Number,image:String,id:Number},methods:{onClick(){this.$emit("open-recipe")},updateRating(t){v.Inertia.patch("/recipes/"+this.id,{rating:t})}}},O={class:"p-4"},V=["src"],j={class:"font-bold text-md px-6 pt-4"};function q(t,n,e,s,o,r){const l=h("Stars");return a(),c("div",O,[i("div",{onClick:n[0]||(n[0]=d=>r.onClick()),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-pointer flex flex-col justify-between"},[i("div",null,[i("img",{class:"w-full",src:e.image,alt:"Image"},null,8,V),i("div",j,_(e.name),1)]),f(l,{class:"mt-auto px-6 pb-4","initial-rating":e.score,onChangeRating:r.updateRating},null,8,["initial-rating","onChangeRating"])])])}const F=u(D,[["render",q]]),E={name:"HorizonSlider",components:{VueHorizontal:P,Card:F},props:{data:{type:Object,default:()=>({})},text:String},methods:{openRecipe(t){v.Inertia.get("/recipes/"+t.id)}},watch:{search(t){v.Inertia.get("/recipes",{query:t},{preserveState:!0})}}},H={class:"text-xl text-grey m-4 font-bold"};function A(t,n,e,s,o,r){const l=h("Card"),d=h("vue-horizontal");return a(),c("div",null,[i("h1",H,_(e.text),1),f(d,{class:"mx-6"},{default:S(()=>[(a(!0),c(k,null,R(e.data,m=>(a(),B(l,{name:m.name,score:m.pivot.rating,id:m.id,image:m.image_url,onOpenRecipe:be=>r.openRecipe(m)},null,8,["name","score","id","image","onOpenRecipe"]))),256))]),_:1})])}const Se=u(E,[["render",A]]),X={name:"Card",components:{Stars:b},props:{name:String,score:Number,image:String,id:Number},methods:{onClick(){this.$emit("open-recipe")},updateRating(t){v.Inertia.patch("/recipes/"+this.id,{rating:t})}}},J={class:"p-4"},K=["src"],U={class:"px-6 py-4"},Y={class:"font-bold text-xl"};function Q(t,n,e,s,o,r){const l=h("Stars");return a(),c("div",J,[i("div",{onClick:n[0]||(n[0]=d=>r.onClick()),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-pointer"},[i("img",{class:"w-full",src:e.image,alt:"Image"},null,8,K),i("div",U,[i("div",Y,_(e.name),1),f(l,{class:"mt-auto","initial-rating":e.score,onChangeRating:r.updateRating},null,8,["initial-rating","onChangeRating"])])])])}const Z=u(X,[["render",Q]]);const ee={name:"GrafModal",props:{imageModal:String}},te=t=>(I("data-v-840de1b5"),t=t(),N(),t),ne={class:"modal z-50 py-4"},oe=["src"],se=te(()=>i("h1",{class:"text-white"},"This plot shows all of the recipes you have rated. The ones you have rated four or more are in green and the others are in red. Your recommendation is in black. Recipes that are rated similarly by similar users are closer to each other on the plot.",-1));function ie(t,n,e,s,o,r){return a(),c("div",{class:"modal-overlay z-40 cursor-zoom-out",onClick:n[0]||(n[0]=l=>t.$emit("close-modal"))},[i("div",ne,[i("img",{class:"modal object-contain center py-4",src:e.imageModal,alt:""},null,8,oe),se])])}const re=u(ee,[["render",ie],["__scopeId","data-v-840de1b5"]]),le={name:"GrafiekCard",components:{GrafModal:re},props:{image:String,percent:Number},methods:{onClick(){console.log("click grafiek")}},data(){return{showModal:!1}}},ae={class:"p-4 h-full"},ce=["src"],de={class:"px-6 py-4"},he=i("div",{class:"font-bold text-xl"},"Confidence:",-1),ue={class:"font-bold text-xl"};function pe(t,n,e,s,o,r){const l=h("GrafModal");return a(),c("div",ae,[i("div",{onClick:n[0]||(n[0]=d=>o.showModal=!0),class:"w-40 rounded overflow-hidden shadow-lg h-full cursor-zoom-in"},[i("img",{class:"w-full",src:e.image,alt:"Recommendation"},null,8,ce),i("div",de,[he,i("div",ue,_(e.percent)+"%",1)])]),x(f(l,{imageModal:e.image,onCloseModal:n[1]||(n[1]=d=>o.showModal=!1)},null,8,["imageModal"]),[[z,o.showModal]])])}const fe=u(le,[["render",pe]]),me={name:"CardWithInfo",components:{CardForRec:Z,GrafiekCard:fe},props:{score:Number,name:String,imageGraf:String,imageRecipe:String,id:Number,perc:Number},methods:{onClick(){this.$emit("open-recipe")}}},ge={class:"mx-6 grid grid-cols-2 gap-1 h-full"},ve={class:"h-full"},_e={class:"h-full"};function xe(t,n,e,s,o,r){const l=h("CardForRec"),d=h("GrafiekCard");return a(),c("div",ge,[i("div",ve,[f(l,{image:e.imageRecipe,name:e.name,score:e.score,id:e.id,onOpenRecipe:r.onClick},null,8,["image","name","score","id","onOpenRecipe"])]),i("div",_e,[f(d,{image:e.imageGraf,percent:e.perc},null,8,["image","percent"])])])}const ke=u(me,[["render",xe]]);export{ke as C,ye as S,F as a,Se as b,P as i};
