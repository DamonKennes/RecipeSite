import{o as a,g as d,d as l,h as _,s as w,J as $,B as C,K as c,k as y,y as v,E as u,t as x,a as g,w as S,F as k,x as B,c as R}from"./app.b92da492.js";import{_ as p}from"./_plugin-vue_export-helper.cdc0426e.js";import{S as L}from"./Stars.4b5249a5.js";const N={name:"SearchBar",props:{value:String},data:function(){return{query:this.value}}},z={class:"max-w-md mx-auto"},W={class:"relative flex items-center w-full h-12 rounded-lg focus-within:shadow-lg bg-white overflow-hidden"},T=l("div",{class:"grid place-items-center h-full w-12 text-gray-300"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1);function P(n,t,e,o,s,i){return a(),d("div",z,[l("div",W,[T,_(l("input",{class:"peer h-full w-full outline-none text-sm text-gray-700 pr-2 border-0",type:"text",id:"search",placeholder:"Search something..","onUpdate:modelValue":t[0]||(t[0]=r=>n.query=r),onInput:t[1]||(t[1]=r=>n.$emit("updated-value",n.query))},null,544),[[w,n.query]])])])}const oe=p(N,[["render",P]]);var m=Object.assign,I=$({name:"VueHorizontal",data:()=>({left:0,width:0,scrollWidth:0,hasPrev:!1,hasNext:!1,debounceId:void 0}),props:{button:{type:Boolean,default:()=>!0},buttonBetween:{type:Boolean,default:()=>!0},scroll:{type:Boolean,default:()=>!1},displacement:{type:Number,default:()=>1},snap:{type:String,default:()=>"start"}},mounted(){this.onScrollDebounce()},beforeDestroy(){clearTimeout(this.debounceId)},methods:{children(){return this.$refs.container.children},findPrevSlot(n){const t=this.children();for(let e=0;e<t.length;e++){const o=t[e].getBoundingClientRect();if(o.left<=n&&n<=o.right||n<=o.left)return t[e]}},findNextSlot(n){const t=this.children();for(let e=0;e<t.length;e++){const o=t[e].getBoundingClientRect();if(!(o.right<=n)&&(o.left<=n||n<=o.left))return t[e]}},prev(n){n.stopPropagation(),this.$emit("prev");const t=this.$refs.container,e=t.getBoundingClientRect().left,o=e+t.clientWidth*-this.displacement-2.5,s=this.findPrevSlot(o);if(s){const r=s.getBoundingClientRect().left-e;return void this.scrollToLeft(t.scrollLeft+r)}const i=t.clientWidth*this.displacement;this.scrollToLeft(t.scrollLeft-i)},next(n){n.stopPropagation(),this.$emit("next");const t=this.$refs.container,e=t.getBoundingClientRect().left,o=e+t.clientWidth*this.displacement+2.5,s=this.findNextSlot(o);if(s){const r=s.getBoundingClientRect().left-e;if(r>2.5)return void this.scrollToLeft(t.scrollLeft+r)}const i=t.clientWidth*this.displacement;this.scrollToLeft(t.scrollLeft+i)},scrollToIndex(n){const t=this.children();if(t[n]){const e=this.$refs.container,o=t[n].getBoundingClientRect().left-e.getBoundingClientRect().left;this.scrollToLeft(e.scrollLeft+o)}},scrollToLeft(n,t="smooth"){this.$refs.container.scrollTo({left:n,behavior:t})},onScroll(){const n=this.$refs.container;n&&(this.$emit("scroll",{left:n.scrollLeft}),clearTimeout(this.debounceId),this.debounceId=setTimeout(this.onScrollDebounce,100))},onScrollDebounce(){return this.refresh(n=>{this.$emit("scroll-debounce",n)})},refresh(n){return C(()=>{const t=this.calculate();this.left=t.left,this.width=t.width,this.scrollWidth=t.scrollWidth,this.hasNext=t.hasNext,this.hasPrev=t.hasPrev,n==null||n(t)})},calculate(){const n=this.$refs.container,t=this.children()[0];return{left:n.scrollLeft,width:n.clientWidth,scrollWidth:n.scrollWidth,hasNext:n.scrollWidth>n.scrollLeft+n.clientWidth+2.5,hasPrev:function(){var e,o;if(n.scrollLeft===0)return!1;const s=n.getBoundingClientRect().left,i=(o=(e=t==null?void 0:t.getBoundingClientRect())==null?void 0:e.left)!=null?o:0;return Math.abs(s-i)>=2.5}()}}},render(){const n=e=>{const o=c("path",{d:"m9.8 12 5 5a1 1 0 1 1-1.4 1.4l-5.7-5.7a1 1 0 0 1 0-1.4l5.7-5.7a1 1 0 0 1 1.4 1.4l-5 5z"}),s=c("path",{d:"m14.3 12.1-5-5a1 1 0 0 1 1.4-1.4l5.7 5.7a1 1 0 0 1 0 1.4l-5.7 5.7a1 1 0 0 1-1.4-1.4l5-5z"});return c("svg",{class:"v-hl-svg",viewBox:"0 0 24 24","aria-label":`horizontal scroll area button for navigation to ${e==="prev"?"previous":"next"} section`,style:{width:"40px",height:"40px",margin:"6px",padding:"6px","border-radius":"20px","box-sizing":"border-box",background:"white",color:"black",fill:"currentColor","box-shadow":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"}},[e==="prev"?o:s])},t=e=>this.button&&(e!=="prev"||this.hasPrev)&&(e!=="next"||this.hasNext)?c("div",{key:e==="prev"?0:1,class:`v-hl-btn v-hl-btn-${e}`,onClick:e==="prev"?this.prev:this.next,role:"button",style:m(m(m({},e==="prev"?{left:0,transform:this.buttonBetween?"translateX(-50%)":"none"}:{right:0,transform:this.buttonBetween?"translateX(50%)":"none"}),{cursor:"pointer",position:"absolute",top:0,bottom:0,display:"flex","align-self":"center","z-index":1,"align-items":"center"}),this.scroll?{}:{"overflow-x":"scroll","scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},[e==="prev"?this.$slots["btn-prev"]?this.$slots["btn-prev"]():n("prev"):this.$slots["btn-next"]?this.$slots["btn-next"]():n("next")]):y("",!0);return c("div",{class:"vue-horizontal",style:{position:"relative",display:"flex"}},[t("prev"),t("next"),c("div",{class:"v-hl-container",ref:"container",onScrollPassive:this.onScroll,style:m({display:"flex",width:"100%",margin:0,padding:0,border:"none","box-sizing":"content-box","overflow-x":"scroll","overflow-y":"hidden","scroll-snap-type":"x mandatory","-webkit-overflow-scrolling":"touch"},this.scroll?{}:{"scrollbar-width":"none","-ms-overflow-style":"none","padding-bottom":"30px","margin-bottom":"-30px","clip-path":"inset(0 0 30px 0)"})},(()=>{if(!this.$slots.default)return[];const e=s=>{s.props=s.props||{},s.props.style=s.props.style||{},s.props.style={"flex-shrink":0,"box-sizing":"border-box","min-height":"1px","scroll-snap-align":this.snap}},o=this.$slots.default();return o.forEach(s=>{if(s.el)return e(s);s.children&&Array.isArray(s.children)&&s.children.forEach(i=>{e(i)})}),o})())])}});const D={name:"Card",components:{Stars:L},props:{name:String,score:Number,image:String,id:Number},methods:{onClick(){this.$emit("open-recipe")},updateRating(n){v.Inertia.patch("/recipes/"+this.id,{rating:n})}}},G={class:"p-4"},O=["src"],V={class:"px-6 py-4"},q={class:"font-bold text-xl"};function E(n,t,e,o,s,i){const r=u("Stars");return a(),d("div",G,[l("div",{onClick:t[0]||(t[0]=f=>i.onClick()),class:"w-60 rounded overflow-hidden shadow-lg h-full"},[l("img",{class:"w-full",src:e.image,alt:"Pasta"},null,8,O),l("div",V,[l("div",q,x(e.name),1),g(r,{class:"mt-auto","initial-rating":e.score,onChangeRating:i.updateRating},null,8,["initial-rating","onChangeRating"])])])])}const b=p(D,[["render",E]]),j={name:"HorizonSlider",components:{VueHorizontal:I,Card:b},props:{data:{type:Object,default:()=>({})},text:String},methods:{openRecipe(n){v.Inertia.get("/recipes/"+n.id)}},watch:{search(n){v.Inertia.get("/recipes",{query:n},{preserveState:!0})}}},H={class:"text-xl text-grey m-4 font-bold"};function M(n,t,e,o,s,i){const r=u("Card"),f=u("vue-horizontal");return a(),d("div",null,[l("h1",H,x(e.text),1),g(f,{class:"mx-6"},{default:S(()=>[(a(!0),d(k,null,B(e.data,h=>(a(),R(r,{name:h.name,score:h.pivot.rating,id:h.id,image:h.image_url,onOpenRecipe:Z=>i.openRecipe(h)},null,8,["name","score","id","image","onOpenRecipe"]))),256))]),_:1})])}const se=p(j,[["render",M]]),A={name:"GrafiekCard",components:{},props:{image:String},methods:{onClick(){console.log("click grafiek")}}},F={class:"flex p-10"},X=["src"];function J(n,t,e,o,s,i){return a(),d("div",F,[l("div",{onClick:t[0]||(t[0]=r=>i.onClick()),class:"max-w-sm rounded overflow-hidden shadow-lg"},[l("img",{class:"w-full",src:e.image,alt:"Pasta"},null,8,X)])])}const K=p(A,[["render",J]]),U={name:"CardWithInfo",components:{Card:b,GrafiekCard:K},props:{score:Number,name:String,imageGraf:String,imageRecipe:String,id:Number},methods:{onClick(){this.$emit("open-recipe")}}},Q={class:"flex"};function Y(n,t,e,o,s,i){const r=u("Card"),f=u("GrafiekCard");return a(),d("div",Q,[g(r,{image:e.imageRecipe,name:e.name,score:e.score,id:e.id,onOpenRecipe:i.onClick},null,8,["image","name","score","id","onOpenRecipe"]),g(f,{image:e.imageGraf},null,8,["image"])])}const ie=p(U,[["render",Y]]);export{ie as C,oe as S,b as a,se as b,I as i};
