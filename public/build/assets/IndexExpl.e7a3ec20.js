import{C as O,a as C,S as I,i as R,b as B}from"./CardWithInfo.15bb121b.js";import{H as j,L as P,y as w,E as a,o as i,g as r,d as e,n as c,a as n,w as d,t as p,F as m,x,e as l,c as M,G as T,I as E}from"./app.b92da492.js";import{b as V,_ as z,a as A}from"./ResponsiveNavLink.c10a2f99.js";import{A as F}from"./ApplicationLogo.e6ec3263.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import"./Stars.4b5249a5.js";const U={name:"IndexExpl",components:{CardWithInfo:O,Card:C,Head:j,Link:P,ResponsiveNavLink:V,ApplicationLogo:F,DropdownLink:z,Dropdown:A,SearchBar:I,VueHorizontal:R,Slider:B},props:{results:{type:Object,default:()=>({})},recommendations:{type:Object,default:()=>({})},favourites:{type:Object,default:()=>({})}},data(){return{showingNavigationDropdown:!1,search:"",atTopOfPage:!0}},beforeMount(){window.addEventListener("scroll",this.handleScroll)},methods:{updateSearch(o){this.search=o},openRecipe(o){w.Inertia.get("/recipes/"+o.id)},handleScroll(){window.pageYOffset>0?this.atTopOfPage&&(this.atTopOfPage=!1):this.atTopOfPage||(this.atTopOfPage=!0)}},watch:{search(o){w.Inertia.get("/recipes",{query:o},{preserveState:!0})}}},h=o=>(T("data-v-0a9e7d4a"),o=o(),E(),o),Y=h(()=>e("head",{title:"Dashboard"},null,-1)),q={class:"min-h-screen bg-gray-100"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},W={class:"flex justify-between h-16"},J={class:"flex"},K={class:"shrink-0 flex items-center"},Q={class:"my-auto w-full mx-6"},X={class:"hidden sm:flex sm:items-center sm:ml-6"},Z={class:"ml-3 relative"},$={class:"inline-flex rounded-md"},ee={type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150"},oe=h(()=>e("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),te={class:"-mr-2 flex items-center sm:hidden"},se={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ne={class:"pt-4 pb-1 border-t border-gray-200"},ae={class:"px-4"},ie={class:"font-medium text-base text-gray-800"},re={class:"font-medium text-sm text-gray-500"},de={class:"mt-3 space-y-1"},le={class:"pt-16 pb-12"},ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},pe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},he={key:0},ue=h(()=>e("h1",{class:"text-xl text-grey m-4 font-bold"},"Recommended for you",-1)),_e={key:1},me=h(()=>e("h1",{class:"text-xl text-grey m-4 font-bold"},"Search results",-1)),fe=["onClick"],ge=["src"],ve={class:"my-auto ml-4 font-semibold"};function we(o,f,u,xe,t,_){const b=a("ApplicationLogo"),y=a("Link"),k=a("SearchBar"),g=a("DropdownLink"),L=a("Dropdown"),v=a("ResponsiveNavLink"),D=a("Slider"),S=a("card-with-info");return i(),r(m,null,[Y,e("div",null,[e("div",q,[e("nav",{class:c(["bg-white border-b border-gray-100 fixed z-50 w-full",{scrolled:!t.atTopOfPage}])},[e("div",G,[e("div",W,[e("div",J,[e("div",K,[n(y,{href:o.route("recipes.index")},{default:d(()=>[n(b,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])])]),e("div",Q,[n(k,{value:t.search,onUpdatedValue:_.updateSearch},null,8,["value","onUpdatedValue"])]),e("div",X,[e("div",Z,[n(L,{align:"right",width:"48"},{trigger:d(()=>[e("span",$,[e("button",ee,[l(p(o.$page.props.auth.user.name)+" ",1),oe])])]),content:d(()=>[n(g,{href:o.route("profile.edit")},{default:d(()=>[l(" Profile ")]),_:1},8,["href"]),n(g,{href:o.route("logout"),method:"post",as:"button"},{default:d(()=>[l(" Log Out ")]),_:1},8,["href"])]),_:1})])]),e("div",te,[e("button",{onClick:f[0]||(f[0]=s=>t.showingNavigationDropdown=!t.showingNavigationDropdown),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out"},[(i(),r("svg",se,[e("path",{class:c({hidden:t.showingNavigationDropdown,"inline-flex":!t.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:c({hidden:!t.showingNavigationDropdown,"inline-flex":t.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:c([{block:t.showingNavigationDropdown,hidden:!t.showingNavigationDropdown},"sm:hidden"])},[e("div",ne,[e("div",ae,[e("div",ie,p(o.$page.props.auth.user.name),1),e("div",re,p(o.$page.props.auth.user.email),1)]),e("div",de,[n(v,{href:o.route("profile.edit")},{default:d(()=>[l(" Profile ")]),_:1},8,["href"]),n(v,{href:o.route("logout"),method:"post",as:"button"},{default:d(()=>[l(" Log Out ")]),_:1},8,["href"])])])],2)],2),e("main",null,[e("div",le,[e("div",ce,[e("div",pe,[t.search?(i(),r("div",_e,[me,(i(!0),r(m,null,x(u.results.data,s=>(i(),r("div",{class:"flex h-20 border-b-2 border-grey",onClick:N=>_.openRecipe(s)},[e("img",{src:s.image_url,alt:"Recipe picture",class:"w-20 object-cover"},null,8,ge),e("h1",ve,p(s.name),1)],8,fe))),256))])):(i(),r("div",he,[n(D,{data:u.favourites.data,text:"Your Favourites"},null,8,["data"]),ue,(i(!0),r(m,null,x(u.recommendations.data,s=>(i(),M(S,{name:s.name,"image-recipe":s.image_url,"image-graf":"/storage/"+s.pivot.image_url,score:0,id:s.id,onOpenRecipe:N=>_.openRecipe(s)},null,8,["name","image-recipe","image-graf","id","onOpenRecipe"]))),256))]))])])])])])])],64)}const Ne=H(U,[["render",we],["__scopeId","data-v-0a9e7d4a"]]);export{Ne as default};
